(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8308:(e,t,s)=>{"use strict";s.d(t,{TransactionSection:()=>c});var a=s(5155),r=s(2115);function l(e){let{onDataReceived:t}=e,[s,l]=(0,r.useState)(!1),[n,c]=(0,r.useState)(null),i=async e=>{var s,a;let r=null==(s=e.target.files)?void 0:s[0];if(r){l(!0),c(null);try{let e=(null==(a=r.name.split(".").pop())?void 0:a.toLowerCase())||"";if(!["csv","json","xml"].includes(e))throw Error("Please upload a CSV, JSON, or XML file");await new Promise(e=>setTimeout(e,1e3));let s={success:!0,message:"File processed successfully",timestamp:new Date().toISOString(),data:{"3336208249795480":{"2025-03-06":[-362.26],"2024-12-06":[446.85],"2025-03-21":[549.67],"2024-07-25":[36.97],"2024-05-23":[172.84],"2024-05-04":[103.64],"2024-06-21":[-181.27]},"3324679021275326":{"2024-05-21":[-36.7],"2024-07-13":[-219.31],"2024-11-25":[-607.55],"2024-12-02":[286.18],"2024-08-13":[-951.32],"2025-02-18":[-827.6],"2025-01-15":[-275.01],"2024-09-03":[570.35],"2024-10-12":[-604.15],"2024-06-29":[591.73],"2024-12-23":[13.88],"2025-01-08":[532.12]}}};t(s)}catch(e){c(e instanceof Error?e.message:"Failed to process file"),t({success:!1,message:e instanceof Error?e.message:"Failed to process file",timestamp:new Date().toISOString()})}finally{l(!1),e.target.value=""}}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"file",accept:".csv,.json,.xml",onChange:i,disabled:s,className:"text-sm",id:"file-upload"}),(0,a.jsx)("button",{disabled:s,onClick:()=>{var e;return null==(e=document.getElementById("file-upload"))?void 0:e.click()},className:"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50",children:s?"Processing...":"Upload File"})]}),n&&(0,a.jsx)("div",{className:"mt-2 text-sm text-red-600",children:n}),(0,a.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:(0,a.jsx)("p",{children:"Supported formats: CSV, JSON, XML"})})]})}function n(e){let{data:t}=e,s=Object.entries(t).flatMap(e=>{let[t,s]=e;return Object.entries(s).flatMap(e=>{let[s,a]=e;return a.map(e=>({cardNumber:t,date:s,amount:e}))})});return s.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("th",{className:"p-2 text-left text-xs font-medium text-gray-500 border-b",children:"Card Number"}),(0,a.jsx)("th",{className:"p-2 text-left text-xs font-medium text-gray-500 border-b",children:"Date"}),(0,a.jsx)("th",{className:"p-2 text-right text-xs font-medium text-gray-500 border-b",children:"Amount"})]})}),(0,a.jsx)("tbody",{children:0===s.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:3,className:"p-4 text-center text-gray-500",children:"No transactions found."})}):s.map((e,t)=>{var s;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-2 border-b",children:function(e){if(!e||e.length<4)return e;let t=e.substring(0,3),s="â€¢".repeat(Math.min(12,e.length-3));return"".concat(t).concat(s)}(e.cardNumber)}),(0,a.jsx)("td",{className:"p-2 border-b",children:function(e){try{let t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t)}catch(t){return e}}(e.date)}),(0,a.jsx)("td",{className:"p-2 text-right border-b ".concat(e.amount<0?"text-red-600":"text-green-600"),children:(s=e.amount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",signDisplay:"auto"}).format(s))})]},t)})})]})})}function c(){let[e,t]=(0,r.useState)(null),[s,c]=(0,r.useState)(null);return(0,a.jsx)("section",{className:"w-full py-12 bg-white",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Transaction Management"}),(0,a.jsxs)("div",{className:"max-w-4xl mx-auto border border-gray-200 rounded bg-white",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Recent Transactions"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Upload a file to view your transactions"})]}),(0,a.jsx)(l,{onDataReceived:e=>{e.success&&e.data?(t(e.data),c(null)):(c(e.message||"Failed to process file"),t(null))}})]})}),(0,a.jsxs)("div",{className:"p-4",children:[s&&(0,a.jsx)("div",{className:"p-3 mb-4 text-sm bg-red-50 border border-red-200 text-red-600 rounded",children:s}),e?(0,a.jsx)(n,{data:e}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Upload a transaction file to view your transaction history."})})]})]})]})})}},9035:(e,t,s)=>{Promise.resolve().then(s.bind(s,8308))}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(9035)),_N_E=e.O()}]);